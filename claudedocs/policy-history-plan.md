# 정책 관리 이력 UI/UX 구현 계획

## 🎯 프로젝트 목표
정책 관리(생성, 수정, 정지)의 이력을 시각적으로 표시하는 UI/UX 구현
(데이터 저장 없이 Mock Data만 사용)

## 📊 현재 상태 분석

### 기존 구현 요소
- PolicyManagement 컴포넌트: 정책 생성/수정/정지 UI
- PolicyLogViewer 컴포넌트: 이력 조회 모달
- 변경 이력 버튼: 페이지 상단 우측 배치

### 관련 파일
```
src/
├── components/
│   └── security/
│       ├── PolicyManagement.tsx    # 정책 관리 UI
│       └── PolicyLogViewer.tsx     # 이력 조회 모달
└── utils/
    └── policyLogUtils.ts          # Mock 데이터 생성
```

## 🎨 UI/UX 디자인 계획

### 1. 이력 표시 위치

#### A. 메인 이력 버튼 (현재 위치 유지)
```
┌─────────────────────────────────────────────┐
│ 🔒 결재 정책 관리                              │
│                                               │
│ 거래 금액에 따른 결재 정책을 관리합니다         │
│                                               │
│                        [목업 데이터] [변경 이력] │
└─────────────────────────────────────────────┘
```

#### B. 각 정책 카드 내 이력 표시 (신규)
```
┌─────────────────────────────────────────────┐
│ 💳 소액 거래                                  │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │
│                                               │
│ 금액 범위: 0원 ~ 100,000원                     │
│ 승인자: 박재무, 윤보안                         │
│                                               │
│ ┌───────────────────────────────────────┐   │
│ │ 최근 변경 이력                          │   │
│ │ • 2시간 전: 한도 상향 (박재무)          │   │
│ │ • 어제: 승인자 추가 (윤보안)            │   │
│ └───────────────────────────────────────┘   │
│                                               │
│ [편집] [정지] [전체 이력]                      │
└─────────────────────────────────────────────┘
```

#### C. 사이드 패널 형태 (대안)
```
화면 레이아웃
┌────────────────────┬──────────────────┐
│                    │                  │
│   정책 목록        │   최근 변경 이력  │
│                    │                  │
│   • 소액 거래      │  10:30 소액 수정  │
│   • 중간 거래      │  09:15 고액 생성  │
│   • 고액 거래      │  어제  중간 정지  │
│                    │                  │
└────────────────────┴──────────────────┘
```

### 2. 이력 뷰어 모달 개선

#### 현재 모달 구조
```
┌─────────────────────────────────────────────┐
│ 정책 변경 이력                          [X]  │
├─────────────────────────────────────────────┤
│ 통계: 전체 20 | 생성 5 | 수정 12 | 정지 3    │
├─────────────────────────────────────────────┤
│ 필터: [액션 ▼] [날짜 선택] [CSV 내보내기]     │
├─────────────────────────────────────────────┤
│ 로그 목록...                                  │
└─────────────────────────────────────────────┘
```

#### 개선된 모달 디자인
```
┌─────────────────────────────────────────────┐
│ 📋 정책 변경 이력                        [X]  │
├─────────────────────────────────────────────┤
│ ┌───────────┬───────────┬───────────┐      │
│ │ 📊 전체   │ ✅ 생성   │ ✏️ 수정    │      │
│ │    20     │     5     │    12     │      │
│ └───────────┴───────────┴───────────┘      │
├─────────────────────────────────────────────┤
│ 🔍 필터                                      │
│ [전체 액션 ▼] [최근 7일 ▼] [담당자 ▼]       │
├─────────────────────────────────────────────┤
│ 타임라인 뷰                                  │
│ ────●────●────●────●────●────              │
│     |    |    |    |    |                   │
│   생성  수정  수정  정지  수정               │
├─────────────────────────────────────────────┤
│ 상세 목록                                    │
│ ┌─────────────────────────────────────┐    │
│ │ 10:30 | 소액 거래 | 수정 | 박재무    │    │
│ │ 09:15 | 고액 거래 | 생성 | 김대표    │    │
│ │ 어제  | 중간 거래 | 정지 | 윤보안    │    │
│ └─────────────────────────────────────┘    │
└─────────────────────────────────────────────┘
```

### 3. 이력 상세 팝업

#### 클릭 시 상세 정보 표시
```
┌─────────────────────────────────────────────┐
│ 변경 상세 정보                               │
├─────────────────────────────────────────────┤
│ 📅 시간: 2024.01.15 10:30:45                 │
│ 👤 수행자: 박재무                             │
│ 🏷️ 정책: 소액 거래                           │
│ 🔄 액션: 수정                                │
├─────────────────────────────────────────────┤
│ 변경 내용:                                   │
│ ┌─────────────────────────────────────┐    │
│ │ 최대 금액:                           │    │
│ │   이전: 50,000원                     │    │
│ │   이후: 100,000원                    │    │
│ │                                      │    │
│ │ 승인자:                              │    │
│ │   이전: [박재무]                     │    │
│ │   이후: [박재무, 윤보안]             │    │
│ └─────────────────────────────────────┘    │
│                                              │
│ 📝 사유: 업무량 증가로 인한 한도 상향 조정     │
└─────────────────────────────────────────────┘
```

## 🔧 Mock Data 설계

### Mock 데이터 시나리오
```javascript
const mockHistoryData = [
  // 오늘 - 빈번한 활동
  { time: '10:30', policy: '소액 거래', action: 'UPDATE', user: '박재무' },
  { time: '09:15', policy: '고액 거래', action: 'CREATE', user: '김대표' },
  { time: '08:45', policy: '중간 거래', action: 'UPDATE', user: '이기술' },

  // 어제 - 정기 점검
  { time: '어제 16:00', policy: '중간 거래', action: 'SUSPEND', user: '윤보안' },
  { time: '어제 14:30', policy: '소액 거래', action: 'UPDATE', user: '박재무' },

  // 이번 주 - 정책 재정비
  { time: '3일 전', policy: '특별 승인', action: 'CREATE', user: '송컴플' },
  { time: '5일 전', policy: '고액 거래', action: 'UPDATE', user: '김대표' },

  // 이번 달 - 분기 검토
  { time: '2주 전', policy: '소액 거래', action: 'UPDATE', user: '박재무' },
  { time: '3주 전', policy: '임시 정책', action: 'SUSPEND', user: '윤보안' }
];
```

### 액션별 표시 스타일
- **CREATE (생성)**: 파란색 배지, ➕ 아이콘
- **UPDATE (수정)**: 노란색 배지, ✏️ 아이콘
- **SUSPEND (정지)**: 주황색 배지, ⏸️ 아이콘

## 📝 구현 계획

### Phase 1: UI 컴포넌트 구현

#### 1-1. 정책 카드 내 이력 표시
```typescript
// PolicyCard 컴포넌트에 추가
<div className="recent-history">
  <h4>최근 변경 이력</h4>
  <ul>
    {recentHistory.slice(0, 2).map(log => (
      <li key={log.id}>
        • {log.time}: {log.action} ({log.user})
      </li>
    ))}
  </ul>
  <button onClick={showFullHistory}>전체 이력</button>
</div>
```

#### 1-2. 이력 뷰어 모달 개선
- 통계 카드 디자인 개선
- 타임라인 뷰 추가
- 필터 UI 개선

#### 1-3. 상세 팝업 구현
- 변경 전후 비교 뷰
- 사유 표시 영역
- 시각적 차이 강조

### Phase 2: Mock Data 확장

#### 2-1. 시나리오별 데이터 생성
```typescript
const scenarios = {
  daily: generateDailyLogs(),      // 일상 운영 로그
  weekly: generateWeeklyLogs(),    // 주간 정기 점검
  monthly: generateMonthlyLogs(),  // 월간 정책 검토
  quarterly: generateQuarterlyLogs() // 분기 감사
};
```

#### 2-2. 랜덤 데이터 생성기
```typescript
function generateRealisticLogs(count: number) {
  // 시간 분포: 최근일수록 많은 로그
  // 액션 분포: UPDATE 60%, CREATE 25%, SUSPEND 15%
  // 사용자 분포: 역할에 따른 현실적 분배
}
```

### Phase 3: 인터랙션 개선

#### 3-1. 애니메이션
- 이력 항목 호버 효과
- 모달 열기/닫기 트랜지션
- 새 로그 추가 시 하이라이트

#### 3-2. 반응형 디자인
- 모바일 뷰 최적화
- 태블릿 레이아웃
- 데스크톱 와이드 뷰

## 🎯 최종 목표

### 사용자 경험
1. **한눈에 파악**: 각 정책의 최근 변경사항 즉시 확인
2. **직관적 탐색**: 시간별, 액션별, 사용자별 필터링
3. **상세 정보**: 클릭 한 번으로 변경 상세 내용 확인

### UI 완성도
1. **일관된 디자인**: shadcn/ui 컴포넌트 스타일 유지
2. **시각적 구분**: 액션별 색상 코딩
3. **정보 계층**: 중요도에 따른 정보 배치

## 📌 구현 우선순위

### 즉시 구현
1. 각 정책 카드에 최근 2개 이력 표시
2. Mock 데이터를 20개 이상으로 확장

### 다음 단계
1. 이력 뷰어 모달 UI 개선
2. 타임라인 뷰 추가

### 선택적 구현
1. 애니메이션 효과
2. 반응형 레이아웃 최적화

## 🚫 제외 사항
- 실제 데이터 저장 로직
- 자동 변경 감지 시스템
- 서버 연동
- 실시간 동기화
- 데이터베이스 관리